(function(e){function t(t){for(var a,i,u=t[0],o=t[1],l=t[2],f=0,h=[];f<u.length;f++)i=u[f],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&h.push(r[i][0]),r[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);c&&c(t);while(h.length)h.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,u=1;u<n.length;u++){var o=n[u];0!==r[o]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/nuks-aura-calc/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var c=o;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"391a":function(e,t,n){},c8eb:function(e,t,n){"use strict";n("391a")},cd49:function(e,t,n){"use strict";n.r(t);var a=n("1da1"),r=(n("e623"),n("e379"),n("5dc8"),n("37e1"),n("96cf"),n("7a23"));function s(e,t,n,a,s,i){return Object(r["d"])(),Object(r["b"])("div")}n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),n("ac1f"),n("5319"),n("5b81");var i=n("3835"),u=(n("4de4"),n("07ac"),n("caad"),n("2532"),n("4fad"),"https://raw.githubusercontent.com/grindinggear/skilltree-export/master/data.json"),o="https://raw.githubusercontent.com/brather1ng/RePoE/master/RePoE/data/",l="gems.min.json",c=["blinding_aura","chaos_degen_aura_unique","vaal_aura_elemental_damage_healing","blood_sand_armour","physical_damage_aura"],f=["32932","9392","12143","55571","65097","57736","6799","33718","34513","36949"],h={getAuras:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(o+l);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",Object.values(n).filter((function(e){return!(!e.stat_translation_file.includes("/aura_skill")&&!e.stat_translation_file.includes("/banner_aura_skill"))&&(!e.active_skill.display_name.includes("Vaal")&&(!e.base_item.id.includes("Royal")&&!c.includes(e.active_skill.id)))})));case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getSupportGems:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(o+l);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",Object.values(n).filter((function(e){return!(!e.base_item||!e.base_item.id)&&!!e.base_item.id.includes("SupportGemGenerosity")})));case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getStatTranslation:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(o+t+".min.json");case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),getPassiveTreeNodes:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(u);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,a=[],Object.entries(n.nodes).filter((function(e){var t=Object(i["a"])(e,2),n=t[0],r=t[1];f.includes(n)&&a.push(r)})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},p=n("d4ec"),d=n("bee2"),v=(n("7db0"),function e(t,n){var a=this;Object(p["a"])(this,e),this.getAuraStat=function(e){var t=[];return e.static.stats.forEach((function(n){var r;g(n.id)&&(r=e.stat_translation_file.includes("/banner_aura_skill")?a.bannerTranslations.find((function(e){return e.ids.includes(n.id)})):a.translations.find((function(e){return e.ids.includes(n.id)})),t.push(r.English[0].string))})),t},this.getQualityStat=function(e){var t=[],n=-1;return e.static.quality_stats.forEach((function(r){var s;r.set>n&&(n++,t.push([])),s=e.stat_translation_file.includes("/banner_aura_skill")?a.bannerTranslations.find((function(e){return e.ids.includes(r.id)})):a.translations.find((function(e){return e.ids.includes(r.id)})),t[n].push(s.English[0].string)})),t},this.translations=t,this.bannerTranslations=n}),g=function(e){return"base_deal_no_damage"!==e&&("active_skill_base_radius_+"!==e&&!m(e))},m=function(e){return"physical_damage_aura_nearby_enemies_physical_damage_taken_+%_max"===e||!!e.includes("maximum_added_")},b=function(e){return"physical_damage_aura_nearby_enemies_physical_damage_taken_+%"===e||!!e.includes("minimum_added_")},y=function(){function e(t,n,a,r){Object(p["a"])(this,e),this.id=t,this.displayName=r.active_skill.display_name,this.stats=n,this.qualityStats=a,this.statsPerLevel=this.makeStatsPerLevel(r),this.statsPerQuality=this.makeStatsPerQuality(r),this.isBanner=r.stat_translation_file.includes("/banner_aura_skill")}return Object(d["a"])(e,[{key:"makeStatsPerLevel",value:function(e){var t=[],n=0,a=0;return e.static.stats.forEach((function(r){r.value&&0!==r.value?(t.push({value:r.value}),a++):g(r.id)&&(t.push([]),b(r.id)?Object.entries(e.per_level).forEach((function(e,r){t[a].push([e[1].stats[n],e[1].stats[n+1]])})):Object.entries(e.per_level).forEach((function(e,r){t[a].push([e[1].stats[n]])})),a++),n++})),t}},{key:"makeStatsPerQuality",value:function(e){var t=[],n=-1;return e.static.quality_stats.forEach((function(e){e.set>n&&(n++,t.push([])),t[n].push(e.value)})),t}}]),e}(),_=function e(t,n){Object(p["a"])(this,e),this.makeStatsPerLevel=function(e){var t=[];return Object.values(e.per_level).forEach((function(e){t.push(e.stats[0].value)})),t},this.displayName=n.base_item.display_name.replaceAll(" Support",""),this.statsPerLevel=this.makeStatsPerLevel(n)},k=(n("25f0"),n("fb6a"),function(){function e(t,n){Object(p["a"])(this,e),this.id=t,this.displayName=n,this.level=0,this.altQuality=0,this.quality=0,this.generosityLevel=0,this.generosityType=0,this.localAuraEffect=0}return Object(d["a"])(e,[{key:"getStatLines",value:function(e,t,n){var a=this;if(0===this.level)return[];var r=this.auraEffectForGem(t,n),s=this.level,i=[];return e.stats.forEach((function(t,n){var u=t;if(e.statsPerLevel[n].value){var o=e.statsPerLevel[n].value*(1+r/100);o<0&&(u=a.handleNegativeValues(0,u)),u=u.replace("{0}",Math.abs(o).toString())}else e.statsPerLevel[n][s-1].forEach((function(e,t){var s=e.value*(1+r/100);s<0&&(u=a.handleNegativeValues(n,u)),u=u.replace("{".concat(t,"}"),Math.abs(s).toString())}));i.push(u)})),i}},{key:"getQualityStatLines",value:function(e,t,n){var a=this;if(0===this.level||0===this.altQuality||0===this.quality)return[];var r=this.auraEffectForGem(t,n),s=[],i=this.altQuality;return e.qualityStats[i].forEach((function(t,n){var u=e.statsPerQuality[i][n]/100*(1+r/100),o=t;u<0&&(o=a.handleNegativeValues(0,t)),s.push(o.replace("{0}",Math.abs(u).toString()))})),s}},{key:"getGenerosityAuraEffect",value:function(e){var t,n;switch(this.generosityType){case 1:if(this.generosityLevel>40&&(this.generosityLevel=40),this.generosityLevel<=0)break;return(null===(t=e.get("generosity"))||void 0===t?void 0:t.statsPerLevel[this.generosityLevel-1])||0;case 2:if(this.generosityLevel>20&&(this.generosityLevel=20),this.generosityLevel<=0)break;return(null===(n=e.get("awakenedgenerosity"))||void 0===n?void 0:n.statsPerLevel[this.generosityLevel-1])||0}return 0}},{key:"auraEffectForGem",value:function(e,t){return this.localAuraEffect+e+this.getGenerosityAuraEffect(t)}},{key:"handleNegativeValues",value:function(e,t){var n=t.indexOf("{".concat(e,"}"));if(n<0)return t;if(t.slice(n,n+"faster".length+5).includes("faster")){var a=n+"faster".length+5;return t.slice(0,n)+t.slice(n,a).replace("faster","slower")+t.slice(a)}if(t.slice(n,n+"increased".length+5).includes("increased")){var r=n+"increased".length+5;return t.slice(0,n)+t.slice(n,r).replace("increased","decreased")+t.slice(r)}if(t.slice(n,n+"more".length+5).includes("more")){var s=n+"more".length+5;return t.slice(0,n)+t.slice(n).replace("more","less")+t.slice(s)}return t}}]),e}()),w=function(){function e(t){Object(p["a"])(this,e),this.smallNodes=[],t.isNotable?this.notable=t:this.smallNodes.push(t)}return Object(d["a"])(e,[{key:"setNotable",value:function(e){this.notable=e}},{key:"addSmallNode",value:function(e){this.smallNodes.push(e)}}]),e}(),S=(n("b0c0"),function(){function e(t){Object(p["a"])(this,e),this.id=t.skill.toString(),this.name=t.name,this.group=t.group,this.value=this.getValueFromJSONNode(t.stats),this.isNotable=!!t.isNotable,this.active=!0,this.icon=t.icon}return Object(d["a"])(e,[{key:"toggleActive",value:function(){this.active=!this.active}},{key:"getValueFromJSONNode",value:function(e){var t=0;return e.some((function(e){var n=e.indexOf("% increased effect of Non-Curse Auras from your Skills");if(-1!==n)return t=parseInt(e.slice(0,n),10),!0})),t}}]),e}()),j=function(){function e(){Object(p["a"])(this,e),this.treeClusters=new Map}return Object(d["a"])(e,[{key:"addNewNode",value:function(e){var t=new S(e);if(this.treeClusters.has(t.group))t.isNotable?this.treeClusters.get(t.group).setNotable(t):this.treeClusters.get(t.group).addSmallNode(t);else{var n=new w(t);this.treeClusters.set(t.group,n)}}},{key:"getNotables",value:function(){var e=[];return this.treeClusters.forEach((function(t){t.notable&&e.push(t.notable)})),e}},{key:"getNotableById",value:function(e){return this.treeClusters.forEach((function(t){if(t.notable&&t.notable.id===e)return t.notable})),null}},{key:"getNotableByGroupId",value:function(e){return this.treeClusters.has(e)?this.treeClusters.get(e).notable:null}},{key:"getSmallNodesForGroup",value:function(e){return this.treeClusters.has(e)?this.treeClusters.get(e).smallNodes:[]}},{key:"reset",value:function(){this.forEachNode((function(e){e.active=!1}))}},{key:"getAuraEffect",value:function(){var e=0;return this.forEachNode((function(t){t.active&&(e+=t.value)})),e}},{key:"forEachNode",value:function(e){this.treeClusters.forEach((function(t){t.notable&&e(t.notable),t.smallNodes.forEach((function(t){e(t)}))}))}}]),e}(),O=Object(r["c"])({name:"App",components:{},data:function(){return{loading:!1,auraStatic:new Map,supportGemsStatic:new Map,passiveTree:new j,playerAuras:new Map}},computed:{globalAuraEffect:function(){return this.passiveTree.getAuraEffect()}},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,console.log("Loading Auras from RePoE..."),t.next=4,e.loadAuras();case 4:return console.log("Loading Support Gems from RePoE..."),t.next=7,e.loadSupportGems();case 7:return console.log("Loading Tree Data from GGG..."),t.next=10,e.loadSupportGems();case 10:console.log("Done!"),e.testAura(),e.loading=!1;case 13:case"end":return t.stop()}}),t)})))()},methods:{testAura:function(){var e=this.playerAuras.get("discipline");e.level=2,e.altQuality=2,e.quality=20,console.log(this.playerAuras.get("discipline").getStatLines(this.auraStatic.get("discipline"),0,this.supportGemsStatic)),console.log(this.playerAuras.get("discipline").getQualityStatLines(this.auraStatic.get("discipline"),100,this.supportGemsStatic))},loadAuras:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.getAuras();case 2:n=t.sent,n.forEach((function(t){var n=t.active_skill.display_name.replaceAll(" ","").toLowerCase();e.auraStatic.set(n,new y(n,e.$getAuraStat(t),e.$getQualityStat(t),t)),e.playerAuras.set(n,new k(n,t.active_skill.display_name))}));case 4:case"end":return t.stop()}}),t)})))()},loadSupportGems:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.getSupportGems();case 2:n=t.sent,n.forEach((function(t){var n=t.base_item.display_name.replaceAll(" ","").replace("Support","").toLowerCase();e.supportGemsStatic.set(n,new _(n,t))}));case 4:case"end":return t.stop()}}),t)})))()},loadTreeData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.getPassiveTreeNodes();case 2:n=t.sent,n.forEach((function(t){e.passiveTree.addNewNode(t)}));case 4:case"end":return t.stop()}}),t)})))()}}}),N=(n("c8eb"),n("6b0d")),E=n.n(N);const x=E()(O,[["render",s]]);var P=x;h.getStatTranslation("stat_translations/aura_skill").then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(r["a"])(P),e.next=3,h.getStatTranslation("stat_translations/banner_aura_skill");case 3:a=e.sent,s=new v(t,a),n.config.globalProperties.$getAuraStat=function(e){return s.getAuraStat(e)},n.config.globalProperties.$getQualityStat=function(e){return s.getQualityStat(e)},n.mount("#app");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}});
//# sourceMappingURL=app.30729cab.js.map